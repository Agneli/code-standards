<!-- #### JAVSCRIPT SECTION #### -->

<section id="js">

	<div class="intro has-icon">
		<img class="icon" src="img/layout/icon-curly.png" alt="{}" />
		
		<h1>JavaScript</h1>

		<p>JavaScript é o terceiro componente principal de uma página web. Código JavaScript, quando devidamente é aplicado a uma página, melhora consideravelmente a experiência do usuário, através do controle de eventos...</p>
	
		<!--<p>JavaScript is the third major component of a web page. JavaScript code, when properly applied to a web page, enhances the overall user and browser-based experience through attaching to events and controlling the overall behavior layer.</p>-->

		<p>JavaScript tem visto uma explosão na sua popularidade nos últimos anos com poderosas implementações no navegador finalmente habilitadas que possibilitou a criação de aplicações web completas. Adicionalmente, o uso cuidadoso de JavaScript permite a manipulação de controle total sobre outros dois componentes de criação de páginas web, <a href="#markup">Marcação HTML</a> e <a href="#css">CSS</a>. Hoje, a estrutura das páginas e o visual podem ser manipulados em tempo real, sem que seja necessário atualizar a página completamente.</p>

	</div>

	<h2>Bibliotecas JavaScript</h2>

		<p class="normalize">Nós essencialmente desenvolvemos novas aplicações usando <a href="http://api.jquery.com/">jQuery</a>, embora tenhamos conhecimento em JavaScript puro, assim como todas as grandes bibliotecas modernas JavaScript.</p>
	
	<h2>Princípios Gerais de Código</h2>
	
	<ul>
		<li>99% do código deve ficar em arquivos externos. Eles devem ser incluídos no FIM da tag <code>body</code> para melhor performance da página.</li>
		<li>Não confie na string user-agent. Faça a detecção usando o recurso adequado. (Mais em <a href="http://diveintohtml5.info/detect.html">Dive Into HTML5: Detection</a> &amp; <a href="http://api.jquery.com/jQuery.support/">jQuery.support docs</a>)</li>
		<li>Não utilize document.write().</li>
		<li>Todas as variáveis boleanas devem começar com "is".
			<figure class="preCode">Teste para condições positivas</figure>
			<textarea class="brush:js">
			isValid = (test.value >= 4 && test.success);
			</textarea>
		</li>
		<li>Nomeie variáveis e funções de forma lógica. Por exemplo: <code>popUpWindowForAd</code> em vez de <code>myWindow</code>.</li>
        <li>Não faça compressões manualmente. Com exceção dos tradicionais <code>i</code>, etc. for <code>for</code> loops, variáveis devem ser longas o suficiente para ter significado. </li>
		<li>Documentação deve seguir a estrutura do <a href="http://www.naturaldocs.org/documenting.html">NaturalDocs</a>.</li>
		<li>Constantes ou variáveis de configuração (como duração de animações, etc.) devem ficam no começo do arquivo.</li>

		<li>Esforce-se para criar funções que podem ser generalizadas, ter parâmetros e valores de retorno. Isto permite a reutilização substancial de código e, quando combinada com includes ou scripts externos, pode reduzir a sobrecarga quando os scripts tem necessidade de mudar. Por exemplo, em vez da difícil codificação de uma janela pop-up com tamanho da janela, opções, urls, considere criar uma função que tenha tamanho, url e opções como variáveis.</li>

		<li>Comente o seu código! Isso ajuda a reduzir o tempo gasto com soluções de problemas em funções JavaScript.</li>]
		<li>Não perca seu tempo com <code>&lt;!-- --&gt;</code> comentários que cercam sua linha javascript, a menos que você se preocupe com o Netscape 4.&nbsp;:)</li>
		<li>Organize seu código com o <a href="http://kaijaeger.com/articles/the-singleton-design-pattern-in-javascript.html">Object Literal/Singleton</a>, como <a href="http://www.yuiblog.com/blog/2007/06/12/module-pattern/">Module Pattern</a>, ou com o <a href="http://mckoss.com/jscript/object.htm">Object with constructors</a>.</li>
	
	  <li>Minimize variáveis globais - quanto menos você as criar, melhor. Geralmente uma, para o espaço de sua aplicação é um bom número.
			<figure class="preCode">Ao especificar qualquer variável global, identifique-a de forma clara.</figure>		
			<textarea class="brush:js">
			window.globalVar = { ... }
			</textarea>
		</li>
	</ul>
	
	
	<h3>Espaço em branco</h3>
	
	<p>In general, the use of whitespace should follow longstanding English reading conventions. Such that, there will be one space after each comma and colon (and semi-colon where applicable), but no spaces immediately inside the right and left sides of parenthesis. In short, we advocate readability within reason. Additionally, braces should always appear on the same line as their preceding argument.</p>
	
	<p>Consider the following examples of a JavaScript for-loop...</p>
	
	
	<figure class="preCode">Correct</figure>
	<textarea class="brush:js">
		for (var i = 0, j = arr.length; i < j; i++) {
			// Do something.
		}
	</textarea>
	
	<figure class="preCode">Incorrect</figure>
	<textarea class="brush:js">
		for ( var i = 0, j = arr.length; i < j; i++ )
		{
			// Do something.
		}
	</textarea>
	
	<figure class="preCode">Also incorrect</figure>
	<textarea class="brush:js">
		for(var i=0,j=arr.length;i<j;i++){
			// Do something.
		}
	</textarea>


	<h3>plugins.js and script.js</h3>
	
	<p>Starting with H5BP we're presented with two files, plugins.js and script.js. This section outlines basic usage of these two files.</p>
	
	<h4>plugins.js</h4>
	
	<p>Plugins.js is meant to hold all of a sites plugin code. Instead of linking to many different files, we can improve performance by including plugin code directly in this one file. There can and should be exceptions to this usage. An extremely large plugin only used on one rarely visited page, for example, might be better off in a separate download, only accessed on the target page. Most of the time, however, it's safe to just paste in minified versions of all your plugins here for easy access. </p>
	
	<p>Here's what an example file might looks like, including a small table of contents. This can serve as a handy guide for what plugins are in use, including URLs for documentation, rationale for use and the like.</p>
	
	<textarea class="brush:js">
	/* PLUGIN DIRECTORY
	What you can find in this file [listed in order they appear]
	
		   1.) Animate Background Position - http://plugins.jquery.com/project/backgroundPosition-Effect
		   2.) jQuery Easing Plugin - http://gsgd.co.uk/sandbox/jquery/easing/
		   3.) jQuery Ajax Form plugin - http://jquery.malsup.com/form/#download            
		   4.) jQuery validation plugin (form validation) - http://docs.jquery.com/Plugins/Validation
			   -password strength
		   5.) Styled Selects (lightweight) - http://code.google.com/p/lnet/wiki/jQueryStyledSelectOverview
	*/
	
	/**
	* 1.) Animate Background Position - http://plugins.jquery.com/project/backgroundPosition-Effect
	* @author Alexander Farkas
	* v. 1.21
	*/
	(function($) {
	   if(!document.defaultView || !document.defaultView.getComputedStyle){ // IE6-IE8
	   //SNIPPED
	   };
	})(jQuery);
	
	
	/**
	* 2.) jQuery Easing Plugin (we're not using jQuery UI as of yet) - http://gsgd.co.uk/sandbox/jquery/easing/
	*/
	
	// t: current time, b: begInnIng value, c: change In value, d: duration
	jQuery.easing['jswing'] = jQuery.easing['swing'];
	
	jQuery.extend( jQuery.easing,
	{
	   //SNIPPED
	   
	});
	;(function($) {
	   $.fn.ajaxSubmit = function(options) {
	   //SNIPPED
	   }
	})(jQuery);
	
	/*
	* jQuery Styled Select Boxes
	* version: 1.1 (2009/03/24)
	* @requires jQuery v1.2.6 or later
	*
	* Examples and documentation at: http://code.google.com/p/lnet/wiki/jQueryStyledSelectOverview
	*
	* Copyright (c) 2008 Lasar Liepins, liepins.org, liepins@gmail.com
	*
	* Permission is hereby granted, free of charge, to any person obtaining a copy
	* of this software and associated documentation files (the "Software"), to deal
	* in the Software without restriction, including without limitation the rights
	* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	* copies of the Software, and to permit persons to whom the Software is
	* furnished to do so, subject to the following conditions:
	*
	* The above copyright notice and this permission notice shall be included in
	* all copies or substantial portions of the Software.
	*
	* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	* THE SOFTWARE.
	*
	*/
	
	jQuery.fn.styledSelect = function(settings) {
	//SNIPPED
		   return this;
	};
	</textarea>


	<h4>Script.js</h4>

	<p>Script.js is meant to hold your site or application code. Again, this isn't always the best solution as larger teams and or larger, more feature rich projects can really benefit from breaking out application code into module or feature specific files. For smaller sites, simpler applications, and initial prototyping, however, dropping your work into scripts.js makes sense.</p>
	
	<p>A simplified example, using the <a href='http://paulirish.com/2009/markup-based-unobtrusive-comprehensive-dom-ready-execution/'>Markup-based unobtrusive comprehensive DOM-ready execution</a> pattern, might look something like the following:</p>

	<textarea class="brush:js">     
	/* Name: Demo
	Author: Demo King */
	/*demo namespace*/
	demo = {
	 common : {
	   init     : function(){
		   //initialize
	   },
	   finalize : function(){
		   //finalize
	   },
	   config : {
		   prop : "my value",
		   constant : "42"
	   }
	 },
	 mapping : {
	   init     : function(){
		   //create a map
	   },
	   geolocate    : function(){
		   //geolocation is cool
	   },
	   geocode : function(){
		   //look up an address or landmark
	   },
	   drawPolylines : function(){
		   //draw some lines on a map
	   },
	   placeMarker : function(){
		   //place markers on the map
	   }
	 }
	}
	</textarea>

	
	<h2>Variables, ID &amp; Class</h2>
	
	<p>All JavaScript variables shall be written in either completely lowercase letter or camelCase. The one exception to this are Constructor functions, which are capitalized by tradition. All <code>id</code> and <code>class</code> declarations in CSS shall be written in only lowercase. Neither dashes nor underscores shall be used. </p>
	
	
	<h3>Event Delegation</h3>
	
	<p>When assigning unobtrusive event listeners, it is typically acceptable to assign the event listener directly to the element(s) which will trigger some resulting action. However, occasionally there may be multiple elements which match the criteria for which you are checking, and attaching event listeners to each one might negatively impact performance. In such cases you should use event delegation instead.</p>
	
	<p>jQuery's <a href="http://api.jquery.com/delegate">delegate()</a> is preferred over <a href="http://api.jquery.com/live">live()</a> for performance reasons.</p>
	
	
	<h3>Debugging</h3>
	
	<p>Even with the best of validators, inevitably browser quirks will cause issues. There are several invaluable tools which will help to refine code integrity and loading speed. It is important that you have all of these tools available to you, despite the browser you primarily use for development. We recommend developing for Firefox and Safari first, then Google Chrome and Opera, with additional tweaks via conditional comments just for Internet Explorer. The following is a list of helpful debuggers and speed analyzers...</p>
	
	<ul>
		<li><strong>Firefox</strong>: <a href="http://getfirebug.com/">Firebug</a>, <a href="http://code.google.com/speed/page-speed/">Page Speed</a>, <a href="http://developer.yahoo.com/yslow/">YSlow</a></li>
		<li><strong>Safari</strong>: <a href="http://developer.apple.com/safari/library/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/UsingtheWebInspector/UsingtheWebInspector.html">Web Inspector</a></li>
		<li><strong>Google Chrome</strong>: <a href="http://google.com/chrome/intl/en/webmasters-faq.html#tools">Developer Tools</a></li>
		<li><strong>Opera</strong>: <a href="http://opera.com/dragonfly/">Dragonfly</a></li>
		<li><strong>Internet Explorer 6-7</strong>: <a href="http://microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038">Developer Toolbar</a></li>
		<li><strong>Internet Explorer 8-10</strong>: <a href="http://msdn.microsoft.com/en-us/library/dd565625(v=VS.85).aspx">Developer Tools</a></li>	
	</ul>
	

	<h3>Patterns for better JavaScript</h3>

	<ul>
		<li>Writing Maintainable Code</li>
		<li>Single var Pattern</li>
		<li>Hoisting: A Problem with Scattered vars</li>
		<li>(Not) Augmenting Built-in Prototypes</li>
		<li>Avoiding Implied Typecasting</li>
		<li>Avoiding eval()</li>
		<li>Number Conversions with parseInt()</li>
		<li>Opening Brace Location</li>
		<li>Capitalizing Constructors</li>
		<li>Writing Comments</li>
		<li>Avoid void</li>
		<li>Avoid with Statement</li>
		<li>Avoid continue Statement</li>
		<li>Avoid Bitwise Operators if possible</li>
	</ul>
	
	<p>Stoyan Stefanov covers these and more <a href="http://net.tutsplus.com/tutorials/javascript-ajax/the-essentials-of-writing-high-quality-javascript/">in detail here</a>.</p>
	
</section>